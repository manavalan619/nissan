<form>
    <div class="form-group row form">
      <label >Calc Name:</label>
        <div class="col">
          <input  type="text" class="form-control" [(ngModel)]="data.name" 
          style="width: 100%;"placeholder='Enter name' [ngModelOptions]="{standalone: true}"/>
        </div>
        <div class="col">
          <button class="btn btn-primary bottomButtons" (click)="newRow()">New Row</button>
        </div>
    </div>
    <div class="form">
        <div style="height: 80%; padding-top: 10px; box-sizing: border-box;">
          <ag-grid-angular #agGrid style="width: 100%; height: 100%;" id="myGrid" class="ag-theme-balham"
            [columnDefs]="columnDefs" [rowData]="rowData" [defaultColDef]="defaultColDef" [animateRows]="true"
            (gridReady)="onGridReady($event)" domLayout='autoHeight' [singleClickEdit]="singleClickEdit"
            (cellValueChanged)="cellValueChanged($event)"
            [frameworkComponents]="frameworkComponents">
          </ag-grid-angular>
        </div>
        <br />
      </div>
    <div class="form">
          <div>
            <label>Income Expression:</label>
            <textarea type="text" style="height: 150px" class="form-control" [(ngModel)]="data.income_expression" [ngModelOptions]="{standalone: true}"></textarea>
          </div>
          <br />
          <div>
            <label>Cost Expression:</label>
            <textarea type="text" style="height: 150px" class="form-control" [(ngModel)]="data.cost_expression" [ngModelOptions]="{standalone: true}"></textarea>
          </div>
          <br />
          <div>
            <button class="btn btn-primary" (click)="calculate(data)">Calculate</button>
            <button *ngIf="!calculationId" class="btn btn-primary savebutton" (click)="save(data)">Save</button>
            <button *ngIf="calculationId" class="btn btn-primary savebutton" (click)="update()">update</button>
            <button class='btn btn-primary savebutton' (click)="cancel()">Cancel</button>
          </div>
    </div>
</form>